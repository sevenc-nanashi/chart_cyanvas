import{r as a,j as t}from"./context-vN2-4QuS.js";import{r as u}from"./requireLogin-BXrannRr.js";import{p as d}from"./chunk-2-DY34j8pW.js";import{C as o}from"./ChartCard-Djra4y7v.js";import{u as x}from"./useTranslation-CesOUbzQ.js";import{T as l}from"./Trans-COWa_CB2.js";import{L as j}from"./components-NKq783Lw.js";import"./contexts-CgsfAxcF.js";import"./clsx-B-dksMZM.js";import"./utils-lR0QA9I9.js";import"./chunk-4-CoigCJVH.js";const b={i18n:"my"},A=({data:i})=>[{title:i.title}],y=()=>{const{t:i}=x("my"),[e,m]=a.useState([]),[f,p]=a.useState(!1),n=a.useRef(!1),c=a.useCallback(()=>{n.current||(n.current=!0,fetch(d("/api/charts",{count:20,offset:e.length,include_non_public:!0})).then(async r=>{const s=await r.json();s.code==="ok"&&(m(h=>[...h,...s.charts]),s.charts.length<20&&p(!0))}).finally(()=>{setTimeout(()=>{n.current=!1},0)}))},[e]);return a.useEffect(()=>{e.length||c()},[e,c]),t.jsx("div",{className:"flex flex-col gap-2",children:t.jsxs("div",{children:[t.jsx("h1",{className:"page-title",children:i("title")}),t.jsx(l,{i18nKey:"my:description"}),t.jsx("div",{className:"h-4"}),e.length===0&&f?t.jsx("div",{className:"text-center",children:t.jsx(l,{i18nKey:"my:empty",components:[t.jsx(j,{to:"/charts/upload"},"0")]})}):t.jsxs("div",{className:"flex flex-wrap gap-4 justify-center",children:[e.length>0?e.map(r=>t.jsx(o,{data:r},r.name)):new Array(20).fill(void 0).map((r,s)=>t.jsx(o,{data:void 0},s)),new Array(20).fill(void 0).map((r,s)=>t.jsx(o,{spacer:!0},s))]})]})})},B=u(y);export{B as default,b as handle,A as meta};

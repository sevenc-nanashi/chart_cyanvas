import{r as a,j as t}from"./context-vN2-4QuS.js";import{r as h}from"./requireLogin-BXrannRr.js";import{p}from"./chunk-2-DY34j8pW.js";import{C as o}from"./ChartCard-Djra4y7v.js";import{u}from"./useTranslation-CesOUbzQ.js";import{T as x}from"./Trans-COWa_CB2.js";import"./contexts-CgsfAxcF.js";import"./components-NKq783Lw.js";import"./clsx-B-dksMZM.js";import"./utils-lR0QA9I9.js";import"./chunk-4-CoigCJVH.js";const A={i18n:"liked"},B=({data:i})=>[{title:i.title}],j=()=>{const{t:i}=u("liked"),[e,l]=a.useState([]),[m,d]=a.useState(!1),n=a.useRef(!1),c=a.useCallback(()=>{n.current||(n.current=!0,fetch(p("/api/charts",{count:20,offset:e.length,liked:!0})).then(async r=>{const s=await r.json();s.code==="ok"&&(l(f=>[...f,...s.charts]),s.charts.length<20&&d(!0))}).finally(()=>{setTimeout(()=>{n.current=!1},0)}))},[e]);return a.useEffect(()=>{e.length||c()},[e,c]),t.jsx("div",{className:"flex flex-col gap-2",children:t.jsxs("div",{children:[t.jsx("h1",{className:"page-title",children:i("title")}),t.jsx(x,{i18nKey:"liked:description"}),t.jsx("div",{className:"h-4"}),e.length===0&&m?t.jsx("div",{className:"text-center",children:i("empty")}):t.jsxs("div",{className:"flex flex-wrap gap-4 justify-center",children:[e.length>0?e.map(r=>t.jsx(o,{data:r},r.name)):new Array(20).fill(void 0).map((r,s)=>t.jsx(o,{data:void 0},s)),new Array(20).fill(void 0).map((r,s)=>t.jsx(o,{spacer:!0},s))]})]})})},L=h(j);export{L as default,A as handle,B as meta};
